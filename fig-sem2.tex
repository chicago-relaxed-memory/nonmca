\begin{figure}
  \bookmark{Semantic Functions}
  \raggedright
  % \noindent
  % Suppose $\aRel_i$ is a relation in $\aEvs_i\times\aEvs_i$.
  % We say $\aRel \rextendsdef{\aRel_i}{}$ if
  % $\aRel\cap(\aEvs_i\times \aEvs_i) = \aRel_i$.
  % \medskip

  \noindent
  If $\aPS\in\sSKIP$ then $\aEvs = \emptyset$ and
  and $\aTr{\bEvs}{\bForm} \riff \bForm$
  and $\aTerm\riff\TRUE$.
  \medskip

  \noindent
  If $\aPS\in\sLET{\aReg}{\aExp}$ then $\aEvs = \emptyset$ and
  and $\aTr{\bEvs}{\bForm} \riff \bForm[\aExp/\aReg]$
  and $\aTerm\riff\TRUE$.
  \medskip

  \noindent
  If $\aPS \in \sPAR{\aPSS_1}{\aPSS_2}$ then  
  $(\exists\aPS_1\in\aPSS_1)$ $(\exists\aPS_2\in\aPSS_2)$
  \begin{multicols}{2}
    \begin{enumerate}[topsep=0pt,label=(\textsc{p}\arabic*),ref=\textsc{p}\arabic*]
    \item \label{par-E}
      $\aEvs = (\aEvs_1\uplus\aEvs_2)$,
    \item \label{par-lambda}
      ${\labeling}=\PBR{{\labeling_1}\cup {\labeling_2}}$, 
    \item \label{par-kappa}
      $\labelingForm(\aEv) \riff \labelingForm_1(\aEv)\lor \labelingForm_2(\aEv)$,
    \item \label{par-tau}
      $\aTr{\bEvs}{\bForm} \riff \aTr[2]{\bEvs}{\bForm}$,
    \item \label{par-term}
      $\aTerm \riff \aTerm[1]\land\aTerm[2]$,
    \item \label{par-ledep}
      ${\ltdep}\rsupset{\ltdep_1}{\ltdep_2}$, 
    \item \label{par-lesync}
      ${\ltsync}\rsupset{\ltsync_1}{\ltsync_2}$, 
    \item \label{par-leloc}
      ${\ltloc}\rsupset{\ltloc_1}{\ltloc_2}$, 
    \item \label{par-rmw}
      ${\rrmw}=\PBR{{\rrmw_1}\cup{\rrmw_2}}$.
    \end{enumerate}    
  \end{multicols}
  \medskip

  \noindent
  If $\aPS \in \sIFTHEN{\aForm}{\aPSS_1}{\aPSS_2}$ then
  $(\exists\aPS_1\in\aPSS_1)$ $(\exists\aPS_2\in\aPSS_2)$
  \begin{multicols}{2}
    \begin{enumerate}[topsep=0pt,label=(\textsc{i}\arabic*),ref=\textsc{i}\arabic*]
    \item \label{if-E}
      $\aEvs = (\aEvs_1\cup\aEvs_2)$,
    \item \label{if-lambda}
      \labeltextXX{6}{i}{if-ledep}\;
      \labeltextXX{7}{i}{if-lesync}\;
      \labeltextXX{8}{i}{if-leloc}\;
      \labeltextXX{9}{i}{if-rmw}\; as for $\sPAR{}{}$,
    \item \label{if-kappa}
      $\labelingForm(\aEv) \riff (\aForm\land\labelingForm_1(\aEv))\lor(\neg\aForm\land\labelingForm_2(\aEv))$,
    \item \label{if-tau}
      $\aTr{\bEvs}{\bForm} \riff (\aForm\land\aTr[1]{\bEvs}{\bForm})\lor(\neg\aForm\land\aTr[2]{\bEvs}{\bForm})$,
    \item \label{if-term}
      $\aTerm \riff (\aForm\land\aTerm[1])\lor(\neg\aForm\land\aTerm[2])$.
    \end{enumerate}
  \end{multicols}
  \medskip

  \noindent
  If $\aPS \in \sSEMI{\aPSS_1}{\aPSS_2}$ then
  $(\exists\aPS_1\in\aPSS_1)$ $(\exists\aPS_2\in\aPSS_2)$
  \begin{multicols}{2}
    \begin{enumerate}[topsep=0pt,label=(\textsc{s}\arabic*),ref=\textsc{s}\arabic*]
    % \item \label{seq-E}
    %   $\aEvs = (\aEvs_1\cup\aEvs_2)$,
    \item \label{seq-E} %\label{seq-lambda}
      \labeltextXX{2}{s}{seq-lambda}\;
      \labeltextXX{6}{s}{seq-ledep}\;
      \labeltextXX{7}{s}{seq-lesync}\;
      \labeltextXX{8}{s}{seq-leloc}\;
      \labeltextXX{9}{s}{seq-rmw}\; as for $\sIFTHEN{}{}{}$, %$\sPAR{}{}$,
      \setcounter{enumi}{\value{Bkappa}}
    \item \label{seq-kappa}
      $\labelingForm(\aEv) \riff {\labelingForm_1(\aEv)\lor\labelingForm'_2(\aEv)}$,
    \item \label{seq-tau}
      $\aTr{\bEvs}{\bForm} \riff \aTr[1]{\bEvs}{\aTr[2]{\bEvs}{\bForm}}$,
    \item \label{seq-term}
      $\aTerm \riff \aTerm[1]\land\aTr[1]{}{\aTerm[2]}$,
    \item[] \setcounter{enumi}{\value{lesync}}
      \begin{enumerate}[leftmargin=0pt]
      \item \label{seq-delay-sync}
        if $\labeling_1(\bEv)\rsyncdelays\labeling_2(\aEv)$
        %and $\labelingForm_1(\bEv) \land \labelingForm_2(\aEv)$ is satisfiable
        then $\bEv\lesync\aEv$,
      \end{enumerate}
    \item[] \setcounter{enumi}{\value{leloc}}
      \begin{enumerate}[leftmargin=0pt]
      \item \label{seq-delay-co}
        if $\labeling_1(\bEv)\rcodelays\labeling_2(\aEv)$
        %and $\labelingForm_1(\bEv) \land \labelingForm_2(\aEv)$ is satisfiable
        then $\bEv\leloc\aEv$,
      \end{enumerate}
    \end{enumerate}
  \end{multicols}
  where
  % $\labelingForm'_2(\aEv)=\aTr[1]{\aEvs_1}{\labelingForm_2(\aEv})$ if $\labeling(\aEv)$ is a $\sread$---otherwise
  % $\labelingForm'_2(\aEv)=\aTr[1]{\Cdown{\aEv}}{\labelingForm_2(\aEv})$, where
  % $\Cdown{\aEv}=\{ \cEv \mid \cEv \ltdep \aEv \}$.
  \begin{displaymath}
    \labelingForm'_2(\aEv)=
    \begin{cases}
      \aTrAbbrv[1]{\aEvs_1}{\labelingForm_2(\aEv)} & \text{if}\; \labeling(\aEv) \;\text{is a}\sread
      \\
      \aTr[1]{\Cdown{\aEv}}{\labelingForm_2(\aEv)} & \text{otherwise, where}\; \Cdown{\aEv}=\{ \cEv \mid \cEv \lt \aEv \}
    \end{cases}
    % $\Cdown{\aEv}=\{ \cEv \mid \cEv \lt \aEv \}$ if $\labeling(\aEv)$ is a write, and $\Cdown{\aEv}=\aEvs_1$, otherwise
    % \Cdown{\aEv}=
    % \begin{cases}
    %   \{ \cEv \mid \cEv \lt \aEv \} & \textif \labeling(\aEv) \;\text{is a write}
    %   \\
    %   \aEvs_1 & \textotherwise
    % \end{cases}
  \end{displaymath}
  % \\
  % where
  % $\aTerm[1](\aEv) = \aTerm[1]$ if $\labeling(\aEv)$ is a $\srelease$---otherwise
  % $\aTerm[1](\aEv) = \TRUE$.
  \medskip

  % \noindent
  % If $\aPS \in \sIFTHEN{\aForm}{\aPSS_1}{}$ then
  % $(\exists\aPS_1\in\aPSS_1)$ %$(\exists\aPS_2\in\sSKIP)$
  % \begin{multicols}{2}
  %   \begin{enumerate}[topsep=0pt,label=(\textsc{it}\arabic*),ref=\textsc{it}\arabic*]
  %   \item \label{if-then-E}
  %     \labeltextXX{2}{it}{if-then-lambda}
  %     \labeltextXX{6}{it}{if-then-ledep}
  %     \labeltextXX{7}{it}{if-then-lesync}
  %     \labeltextXX{8}{it}{if-then-leloc}
  %     \labeltextXX{9}{it}{if-then-rmw} from $\aPS_1$
  %   \setcounter{enumi}{\value{Bkappa}}
  %   \item \label{if-then-kappa}
  %     $\labelingForm(\aEv) \riff \aForm\land\labelingForm_1(\aEv)$,
  %   \item \label{if-then-tau}
  %     $\aTr{\bEvs}{\bForm} \riff (\aForm\land\aTr[1]{\bEvs}{\bForm})\lor(\neg\aForm\land\bForm)$,
  %   \item \label{if-then-term}
  %     $\aTerm \riff (\aForm\land\aTerm[1])\lor\neg\aForm$.
  %   \end{enumerate}
  % \end{multicols}
  % \medskip

  \noindent
  Let 
  \begin{math}
    \kappaE{\bEvs}=
    {\textstyle\bigvee{}\!\!{}_{\bEv\in\bEvs}\labelingForm(\bEv)}.
  \end{math}
  Note that $\kappaE{\emptyset} = \FALSE$.
  \medskip

  \noindent
  Let $\FormulaeUReg=\{\aForm\in\Formulae\mid \forall\aEv\in\AllEvents.\;\forall\aVal\in\Val.\;\aForm\riff \aForm[\aVal/\uReg{\aEv}]\}$.
  \medskip

  \noindent
  If $\aPS \in \sFENCE[\ascope]{\amode}[\aThrd]$ then
  $(\exists\aForm:\aEvs\fun\FormulaeUReg)$
  \begin{multicols}{2}
    \begin{enumerate}[topsep=0pt,label=(\textsc{f}\arabic*),ref=\textsc{f}\arabic*]
    \item \label{fence-E}
      if $\aForm_\bEv\land\aForm_\aEv$ is satisfiable then $\bEv=\aEv$,
    \item \label{fence-lambda}
      $\labelingAct(\aEv) = \DF[\ascope]{\amode}[\aThrd]$,
    \item \label{fence-kappa}
      \begin{math}
        \labelingForm(\aEv) \riff
        \aForm_\aEv
      \end{math},    
    \item \label{fence-tau}
      $\aTr{\bEvs}{\bForm} \riff \bForm$,
    \item \label{fence-term}
      $\aTerm \riff \kappaE{}$.
    \end{enumerate}
  \end{multicols}
  \medskip

  \noindent
  If $\aPS \in \sSTORE[\amode]{\aLoc}[\ascope]{\aExp}[\aThrd]$ then
  $(\exists\aVal:\aEvs\fun\Val)$
  $(\exists\aForm:\aEvs\fun\FormulaeUReg)$
  \begin{multicols}{2}
    \begin{enumerate}[topsep=0pt,label=(\textsc{w}\arabic*),ref=\textsc{w}\arabic*]
    \item \label{write-E-ca}
      if $\aForm_\bEv\land\aForm_\aEv$ is satisfiable then $\bEv=\aEv$,
    \item \label{write-lambda-ca}
      $\labelingAct(\aEv) = \DW[\amode]{\aLoc}[\ascope]{\aVal_\aEv}[\aThrd]$,
    \item \label{write-kappa-ca}
      \begin{math}
        \labelingForm(\aEv) \riff
        \aForm_\aEv
        \land
        \aExp{=}\aVal_\aEv
      \end{math},    
    \item \label{write-tau-ca}
      \begin{math}
        \aTr{\bEvs}{\bForm} \riff
        \bForm
        [\aExp/\aLoc][{\kappaE{}}/\Q{\aLoc}], 
      \end{math}
    \item \label{write-term-ca}
      $\aTerm \riff \kappaE{}$.
    \end{enumerate}  
  \end{multicols}
  \medskip

  \noindent
  If $\aPS \in \sLOAD[\amode]{\aReg}[\ascope]{\aLoc}[\aThrd]$ then
  $(\exists\aVal:\aEvs\fun\Val)$
  $(\exists\aForm:\aEvs\fun\FormulaeUReg)$
  \begin{multicols}{2}
    \begin{enumerate}[topsep=0pt,label=(\textsc{r}\arabic*),ref=\textsc{r}\arabic*]
    \item \label{read-E-ca}
      if $\aForm_\bEv\land\aForm_\aEv$ is satisfiable then $\bEv=\aEv$,
    \item \label{read-lambda-ca}
      $\labelingAct(\aEv) = \DR[\amode]{\aLoc}[\ascope]{\aVal_\aEv}[\aThrd]$
    \item \label{read-kappa-ca}
      \begin{math}
        \labelingForm(\aEv) \riff
        \aForm_\aEv
        \land
        \Q{\aLoc}
      \end{math},
    \item \label{read-tau-ca}
      \makebox[0pt][l]{\begin{math}
        \begin{aligned}[t]
          \aTr{\bEvs}{\bForm} \riff
          &\textstyle\bigwedge_{\aEv\in\aEvs\cap\bEvs}
          \aForm_\aEv\limplies
          {
            \PBR{
              \labelingForm(\aEv)
              \limplies \aVal_\aEv{=}\uReg{\aEv}
            }
            \limplies
            \bForm[\uReg{\aEv}/\aReg]
          }
          \\[-.5ex]
          \land
          &\textstyle\bigwedge_{\aEv\in\aEvs\setminus\bEvs}
          \aForm_\aEv\limplies
          {
            \PBR{
              \labelingForm(\aEv)
              \limplies
              \PBR{\aVal_\aEv{=}\uReg{\aEv} \lor \aLoc{=}\uReg{\aEv}}
            }
            \limplies
            \bForm[\uReg{\aEv}/\aReg]
          }
          \\[-.5ex]
          \land
          &
          \textstyle (\bigwedge_{\aEv\in\aEvs}\lnot\aForm_\aEv)
          \limplies 
          (\forall\bReg)\;
          \bForm[\bReg/\aReg]
        \end{aligned}
      \end{math}}

      \columnbreak
      \stepcounter{enumi}
    \item[] \labeltext[\textsc{r}5]{}{read-term-ca}
      \begin{enumerate}[leftmargin=0pt]
      \item \label{read-term-nonempty-ca}
        if $\amode\lemode\mRLX$ then $\aTerm \riff \TRUE$,
      \item \label{read-term-empty-ca}
        if $\amode\gemode\mACQ$ then
        \begin{math}
          \aTerm \riff
          \kappaE{}.
        \end{math}
      \end{enumerate}      
    \end{enumerate}
  \end{multicols}
  \medskip


  \noindent
  If $\aPS \in \sLOADP[\amode]{\aReg}[\ascope]{\aLoc}[\aThrd]$ then
  $(\exists\aVal:\aEvs\fun\Val)$
  $(\exists\aForm:\aEvs\fun\FormulaeUReg)$ as for $\sLOAD{}{}$ except
  \begin{multicols}{2}
    \begin{enumerate}[topsep=0pt,label=(\textsc{r}\arabic*$'$),ref=\textsc{r}\arabic*$'$]
      \setcounter{enumi}{\value{Btau}}
    \item \label{readp-tau-ca}
      \makebox[0pt][l]{\begin{math}
        \begin{aligned}[t]
          \aTr{\bEvs}{\bForm} \riff
          &\textstyle\bigwedge_{\aEv\in\aEvs\cap\bEvs}
          \aForm_\aEv\limplies
          {
            \PBR{
              \labelingForm(\aEv)
              \limplies \aVal_\aEv{=}\uReg{\aEv}
            }
            \limplies
            \bForm[\uReg{\aEv}/\aReg]
          }
          \\[-.5ex]
          \land
          &\textstyle\bigwedge_{\aEv\in\aEvs\setminus\bEvs}
          \aForm_\aEv\limplies
          (\forall\bReg)\;
          \bForm[\bReg/\aReg]
          \\[-.5ex]
          \land
          &
          \textstyle (\bigwedge_{\aEv\in\aEvs}\lnot\aForm_\aEv)
          \limplies 
          (\forall\bReg)\;
          \bForm[\bReg/\aReg]
        \end{aligned}
      \end{math}}
    \end{enumerate}
  \end{multicols}
  \medskip


  % \noindent
  % If $\aPS \in \sFENCE[\ascope]{\amode}[\aThrd]$ then
  % \begin{multicols}{2}
  %   \begin{enumerate}[topsep=0pt,label=(\textsc{f}\arabic*),ref=\textsc{f}\arabic*]
  %   \item \label{fence-E}
  %     $\fcard{\aEvs}\leq1$,
  %     %if $\bEv,\aEv\in\aEvs$ then $\bEv=\aEv$,
  %   \item \label{fence-lambda}
  %     $\labelingAct(\aEv) = \DF[\ascope]{\amode}[\aThrd]$,
  %   \item \label{fence-kappa}
  %     $\labelingForm(\aEv) \riff \TRUE$,
  %     %\setcounter{enumi}{\value{Btau}}
  %   \item \label{fence-tau}
  %     $\aTr{\bEvs}{\bForm} \riff \bForm$,
  %     \stepcounter{enumi}      
  %   \item[] \labeltext[\textsc{f}5]{}{fence-term}
  %     \begin{enumerate}[leftmargin=0pt]
  %     \item \label{fence-term-nonempty}
  %       if $\aEvs\neq\emptyset$ then $\aTerm \riff \TRUE$,
  %     \item \label{fence-term-empty}
  %       if $\aEvs=\emptyset$ then $\aTerm \riff \FALSE$.
  %     \end{enumerate}
  %   % \item \label{fence-term}
  %   %   if $\aEvs=\emptyset$ then $\aTerm \riff \FALSE$.
  %   \end{enumerate}
  % \end{multicols}
  % \medskip

  % \noindent
  % If $\aPS \in \sSTORE[\amode]{\aLoc}[\ascope]{\aExp}[\aThrd]$ then
  % $(\exists\aVal\in\Val)$
  % \begin{multicols}{2}
  %   \begin{enumerate}[topsep=0pt,label=(\textsc{w}\arabic*),ref=\textsc{w}\arabic*]
  %   \item \label{write-E}
  %     $\fcard{\aEvs}\leq1$,
  %     %if $\bEv,\aEv\in\aEvs$ then $\bEv=\aEv$,
  %   \item \label{write-lambda}
  %     $\labelingAct(\aEv) = \DW[\amode]{\aLoc}[\ascope]{\aVal}[\aThrd]$,
  %   \item \label{write-kappa}
  %     \begin{math}
  %       \labelingForm(\aEv) \riff
  %       \aExp{=}\aVal
  %     \end{math},    
  %   % \item \label{write-tau}
  %   %   \begin{math}
  %   %     \aTr{\bEvs}{\bForm} \riff 
  %   %     \bForm[\aExp/\aLoc]
  %   %   \end{math},
  %     \stepcounter{enumi}      
  %   \item[] \labeltext[\textsc{w}4]{}{write-tau}
  %     \begin{enumerate}[leftmargin=0pt]
  %     \item \label{write-tau-nonempty}
  %       if $\aEvs\neq\emptyset$ then 
  %       \makebox[0cm][l]{%
  %       \begin{math}
  %         \aTr{\bEvs}{\bForm} \riff 
  %         \bForm
  %         [\aExp/\aLoc][\aExp{=}\aVal/\Q{\aLoc}],
  %       \end{math}}
  %     \item \label{write-tau-empty}
  %       if $\aEvs=\emptyset$ then 
  %       \begin{math}
  %         \aTr{\bEvs}{\bForm} \riff 
  %         \bForm
  %         [\aExp/\aLoc][\FALSE/\Q{\aLoc}],
  %       \end{math}
  %     \end{enumerate}
  %   \item[] \setcounter{enumi}{\value{term}} \labeltextX{5}{w}{write-term}
  %     \begin{enumerate}[leftmargin=0pt]
  %     \item \label{write-term-nonempty}
  %       if $\aEvs\neq\emptyset$ then $\aTerm \riff \aExp{=}\aVal$.
  %     \item \label{write-term-empty}
  %       if $\aEvs=\emptyset$ then $\aTerm \riff \FALSE$,
  %     \end{enumerate}
  %   \end{enumerate}
  % \end{multicols}
  % \medskip
  
  % \noindent
  % If $\aPS \in \sLOAD[\amode]{\aReg}[\ascope]{\aLoc}[\aThrd]$ then
  % $(\exists\aVal\in\Val)$
  % \begin{multicols}{2}
  %   \begin{enumerate}[topsep=0pt,label=(\textsc{r}\arabic*),ref=\textsc{r}\arabic*]
  %   \item \label{read-E}
  %     $\fcard{\aEvs}\leq1$,
  %     %if $\bEv,\aEv\in\aEvs$ then $\bEv=\aEv$,
  %   \item \label{read-lambda}
  %     $\labelingAct(\aEv) = \DR[\amode]{\aLoc}[\ascope]{\aVal}[\aThrd]$,      
  %   \item \label{read-kappa}
  %     $\labelingForm(\aEv) \riff \Q{\aLoc}$,
  %   \item[] \setcounter{enumi}{\value{tau}} \labeltextX{4}{r}{read-tau}
  %     \begin{enumerate}[leftmargin=0pt]
  %     \item \label{read-tau-dep}
  %       if $\aEv\in\aEvs\cap\bEvs$ then
  %       %if $\aEv\in\aEvs$ and $\aEv\in\bEvs$ then
  %       % if $\aEvs=\{\aEv\}$ %$\aEvs\neq\emptyset$
  %       % and $(\aEvs\cap\bEvs)\neq\emptyset$ then
  %       \begin{math}
  %         \aTr{\bEvs}{\bForm} \riff
  %         \PBR{
  %           \Q{\aLoc}
  %           \limplies
  %           \aVal{=}\uReg{\aEv}
  %         }
  %         \limplies
  %         \bForm[\uReg{\aEv}/\aReg]
  %       \end{math},    
  %     \item \label{read-tau-ind}
  %       if $\aEv\in\aEvs\setminus\bEvs$ then
  %       %if $\aEv\in\aEvs$ and $\aEv\notin\bEvs$ then
  %       % if $\aEvs=\{\aEv\}$ %$\aEvs\neq\emptyset$
  %       % and $(\aEvs\cap\bEvs)=\emptyset$ then
  %       \begin{math}
  %         \aTr{\bEvs}{\bForm} \riff
  %         \PBR{
  %           \Q{\aLoc}
  %           \limplies
  %           {\aVal{=}\uReg{\aEv} \lor \aLoc{=}\uReg{\aEv}}
  %         }
  %         \limplies
  %         \bForm[\uReg{\aEv}/\aReg],
  %       \end{math}
  %     \item \label{read-tau-empty}
  %       if $\aEvs=\emptyset$ then
  %       \begin{math}
  %         (\forall\bReg)
  %         \aTr{\bEvs}{\bForm} \riff
  %         \bForm[\bReg/\aReg],
  %       \end{math}
  %     \end{enumerate}
  %     \stepcounter{enumi}
  %   \item[] \labeltext[\textsc{r}5]{}{read-term}
  %     \begin{enumerate}[leftmargin=0pt]
  %     \item \label{read-term-nonempty}
  %       if $\aEvs\neq\emptyset$ or $\amode\lemode\mRLX$ then $\aTerm \riff \TRUE$. 
  %     \item \label{read-term-empty}
  %       if $\aEvs=\emptyset$ and $\amode\gemode\mACQ$ then $\aTerm \riff \FALSE$. 
  %     \end{enumerate}      
  %   % \item \label{read-term}
  %   %   if $\aEvs=\emptyset$ and $\amode\gemode\mACQ$ then $\aTerm \riff \FALSE$. 
  %   \end{enumerate}
  % \end{multicols}
  % \medskip

  % \noindent
  % Let $\sLOADP{}{}$ be defined as for $\sLOAD{}{}$, adding the constraint:
  % \begin{enumerate}
  % \item[{\labeltextXX{4d}{r}{read-tau-rmw}}]
  %   if $(\aEvs\cap\bEvs)=\emptyset$ then
  %   \begin{math}
  %     \aTr{\bEvs}{\bForm} \riff
  %     \bForm.
  %   \end{math}
  % \end{enumerate}
  % If $\aPS\in\sFADD[\amode][\bmode]{\aLoc}[\ascope]{\aReg}{\aExp}[\aThrd]$ then
  % \begin{math}
  %   %\sFADD[\amode][\bmode]{\aLoc}[\ascope]{\aReg}{\aExp}[\aThrd]\subseteq\sSEMI{
  %   \aPS\in\sSEMI{
  %     \sLOADP[\amode]{\aReg}[\ascope]{\aLoc}[\aThrd]
  %   }{
  %     \sSTORE[\bmode]{\aLoc}[\ascope]{\aReg{+}\aExp}[\aThrd]
  %   }
  % \end{math}
  % and %s.t.
  % \\
  % If $\aPS\in\sEXCHG[\amode][\bmode]{\aLoc}[\ascope]{\aReg}{\aExp}[\aThrd]$ then
  % \begin{math}
  %   %\sEXCHG[\amode][\bmode]{\aLoc}[\ascope]{\aReg}{\aExp}[\aThrd]\subseteq\sSEMI{
  %   \aPS\in\sSEMI{    
  %     \sLOADP[\amode]{\aReg}[\ascope]{\aLoc}[\aThrd]
  %   }{
  %     \sSTORE[\bmode]{\aLoc}[\ascope]{\aExp}[\aThrd]
  %   }
  % \end{math}
  % and %s.t.
  % \\
  % If $\aPS\in\sCAS[\amode][\bmode]{\aLoc}[\ascope]{\aReg}{\aExp}{\bExp}[\aThrd]$ then\\\quad
  % \begin{math}
  %   %\sCAS[\amode][\bmode]{\aLoc}[\ascope]{\aReg}{\aExp}{\bExp}[\aThrd]\subseteq\sSEMI{
  %   \aPS\in\sSEMI{
  %     \sLOADP[\amode]{\aReg}[\ascope]{\aLoc}[\aThrd]
  %   }{
  %     \sIF{\aReg{=}\aExp}\sTHEN\sSTORE[\bmode]{\aLoc}[\ascope]{\bExp}[\aThrd]\sELSE\sSKIP\sFI
  %   }
  % \end{math}
  % and %s.t.
  % \begin{enumerate}[label=(\textsc{u}\arabic*),ref=\textsc{u}\arabic*]
  %   \setcounter{enumi}{\value{Brmw}}
  % \item if $\labeling(\aEv)$ is a write then there is a read $\labeling(\bEv)$ such that 
  %   $\labelingForm(\aEv)\rimplies\labelingForm(\bEv)$ and
  %   $\bEv\xrmw\aEv$.
  % \end{enumerate}

  \caption{Semantic Functions}
  \label{fig:sem}
\end{figure}
